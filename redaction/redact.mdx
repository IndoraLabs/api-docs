---
title: "Launch Redaction"
openapi: POST /files/{fileId}/redact
---

Start an **auto-redaction job** on a file.  
You can target specific entities (faces, license plates, PII, etc.) and control frame sampling for performance vs. accuracy.

## Authorizations
- **Authorization** (string, header, required)  
  Bearer authentication header: `Bearer <token>`

## Path Parameters
- **fileId** (string, required)  
  ID of the file to redact.

## Request Body
- **targets** (string, optional) â€“ comma-separated list of entities to redact  
- **sampleFps** (integer, optional) â€“ frame sampling rate (1â€“30)

---

## Example Requests

```bash cURL title="cURL Example" icon="terminal"
curl -X POST 'https://api.indoralabs.com/files/123e4567/redact' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{ "targets": "faces,plates", "sampleFps": 10 }'
javascript
Copy code
const res = await fetch("https://api.indoralabs.com/files/123e4567/redact", {
  method: "POST",
  headers: {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
  },
  body: JSON.stringify({ targets: "faces,plates", sampleFps: 10 })
});
const data = await res.json();
console.log(data);
typescript
Copy code
import axios from "axios";

const res = await axios.post(
  "https://api.indoralabs.com/files/123e4567/redact",
  { targets: "faces,plates", sampleFps: 10 },
  { headers: { Authorization: "Bearer YOUR_API_KEY" } }
);

console.log(res.data);
Response (202 Accepted)
json
Copy code
{
  "ok": true,
  "jobId": "job-123",
  "status": "pending",
  "outputS3Uri": "s3://redacted/org/file.mp4"
}
yaml
Copy code

---

### **`redaction-status.mdx`**
```mdx
---
title: "Poll Redaction Status"
openapi: GET /files/{fileId}/redaction/status
---

Check the status of a redaction job.  
ðŸ‘‰ Clients should poll this endpoint until the status becomes `succeeded` or `failed`.

## Authorizations
- **Authorization** (string, header, required)

## Path Parameters
- **fileId** (string, required)

---

## Example Request

```bash cURL title="cURL Example"
curl -X GET 'https://api.indoralabs.com/files/123e4567/redaction/status' \
  -H 'Authorization: Bearer YOUR_API_KEY'
Example Responses
json
Copy code
{ "status": "pending" }
json
Copy code
{ "status": "succeeded", "outputS3Uri": "s3://redacted/org/file.mp4" }
json
Copy code
{ "status": "failed", "error": "Detection model timeout" }
yaml
Copy code

---

### **`redaction-signed-url.mdx`**
```mdx
---
title: "Get Redacted File"
openapi: GET /files/{fileId}/redaction/signed-url
---

Retrieve a **time-limited signed URL** to preview or download the redacted file.

## Authorizations
- **Authorization** (string, header, required)

## Path Parameters
- **fileId** (string, required)

## Query Parameters
- **expires** (integer, optional, default 600) â€“ Expiration in seconds (60â€“3600)

---

## Example Request

```bash cURL title="cURL Example"
curl -X GET 'https://api.indoralabs.com/files/123e4567/redaction/signed-url?expires=600' \
  -H 'Authorization: Bearer YOUR_API_KEY'
javascript
Copy code
const res = await fetch("https://api.indoralabs.com/files/123e4567/redaction/signed-url?expires=600", {
  headers: { Authorization: "Bearer YOUR_API_KEY" }
});
const data = await res.json();
console.log(data);
Response (200 OK)
json
Copy code
{
  "url": "https://signed-url-to-redacted.mp4",
  "bucket": "my-redact-bucket",
  "key": "redacted/org/file.mp4",
  "expires": 600
}